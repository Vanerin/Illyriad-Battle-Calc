function showTest(a){$('#testlist select option[value="'+a+'"]').attr("selected","selected");$("#testlist select").change()}function runAllTests(){var e=$("#testresult table tbody tr");var a=10;var d=0;var c=$("<td></td>");e.append(c);var b=0;var f=0;$("#testlist").find('select option[value*="t"]').each(function(j,k){var l=k.text;if(d%a==0){c=$("<td></td>");e.append(c)}d++;var h=verifyTest(l);if(h){b++}else{f++}var g=$('<tr><td class="'+h+'" onclick="showTest(\''+l+"')\">"+l+"</td></tr>");c.append(g)});$("#testresult").append("Tests run: "+d+"<br>Tests good: "+b+"<br>Tests fail: "+f)}function verifyArmy(b){var a=true;b.find("[class=division] [class*=t] table tbody tr").each(function(c){var d=$(this).find("small i").html();if(d!=null){if(d==""){d=0}var e=$(this).find("[name=loss]").val();if(e==""){e=0}if(Math.floor(d)!=Math.floor(e)){a=(a&&false);return a}}});return a}function verifyResults(){var a=true;a=(a&&verifyArmy($("#attacking")));a=(a&&verifyArmy($("#defending")));return a}function verifyTest(a){getTest(a,true);return verifyResults()}$(document).ready(function(){var a=$('<input type="button" value="Run All Tests!" onclick="runAllTests();" />');$("#testlist").append(a)});
